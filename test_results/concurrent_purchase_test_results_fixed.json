{
  "scenario_1": {
    "test_name": "3用户同时购买10台手机",
    "passed": true,
    "user_inputs": [
      "购买",
      "手机",
      "10",
      "退出"
    ],
    "final_stock": 0,
    "expected_success_count": 1,
    "actual_success_count": 1,
    "user_results": [
      {
        "user_id": "User1",
        "purchase_successful": false,
        "purchase_failed_message": "抱歉，购买失败。可能是库存不足或其他用户正在购买，请重新尝试。",
        "final_stock_reported": 10
      },
      {
        "user_id": "User2",
        "purchase_successful": false,
        "purchase_failed_message": "抱歉，购买失败。可能是库存不足或其他用户正在购买，请重新尝试。",
        "final_stock_reported": 10
      },
      {
        "user_id": "User3",
        "purchase_successful": true,
        "purchase_failed_message": null,
        "final_stock_reported": 10
      }
    ],
    "conversation_summary": {
      "User1": [
        "assistant: 手机有库存，当前剩余10台。请问要买几台？",
        "user: 10",
        "assistant: 抱歉，购买失败。可能是库存不足或其他用户正在购买，请重新尝试。",
        "assistant: 好的，请告诉我想买什么商品？例如：手机、耳机、电脑。",
        "user: 退出",
        "assistant: 感谢使用智慧商城助手，祝您购物愉快！"
      ],
      "User2": [
        "assistant: 手机有库存，当前剩余10台。请问要买几台？",
        "user: 10",
        "assistant: 抱歉，购买失败。可能是库存不足或其他用户正在购买，请重新尝试。",
        "assistant: 好的，请告诉我想买什么商品？例如：手机、耳机、电脑。",
        "user: 退出",
        "assistant: 感谢使用智慧商城助手，祝您购物愉快！"
      ],
      "User3": [
        "assistant: 手机有库存，当前剩余10台。请问要买几台？",
        "user: 10",
        "assistant: 下单成功！您购买了10台手机。",
        "assistant: 您好，欢迎来到智慧商城，请问需要什么帮助？",
        "user: 退出",
        "assistant: 感谢使用智慧商城助手，祝您购物愉快！"
      ]
    }
  },
  "scenario_2": {
    "test_name": "混合购买数量测试",
    "passed": true,
    "user_inputs": [
      "购买",
      "手机",
      "[不同数量]",
      "退出"
    ],
    "final_stock": 2,
    "expected_success_users": [
      "User1",
      "User3"
    ],
    "actual_success_users": [
      "User1",
      "User3"
    ],
    "user_results": [
      {
        "user_id": "User1",
        "purchase_successful": true,
        "purchase_failed_message": null,
        "purchase_quantity": "5",
        "final_stock_reported": 10
      },
      {
        "user_id": "User2",
        "purchase_successful": false,
        "purchase_failed_message": "抱歉，购买失败。可能是库存不足或其他用户正在购买，请重新尝试。",
        "purchase_quantity": "6",
        "final_stock_reported": 10
      },
      {
        "user_id": "User3",
        "purchase_successful": true,
        "purchase_failed_message": null,
        "purchase_quantity": "3",
        "final_stock_reported": 5
      }
    ],
    "conversation_summary": {
      "User1": [
        "assistant: 手机有库存，当前剩余10台。请问要买几台？",
        "user: 5",
        "assistant: 下单成功！您购买了5台手机。",
        "assistant: 您好，欢迎来到智慧商城，请问需要什么帮助？",
        "user: 退出",
        "assistant: 感谢使用智慧商城助手，祝您购物愉快！"
      ],
      "User2": [
        "assistant: 手机有库存，当前剩余10台。请问要买几台？",
        "user: 6",
        "assistant: 抱歉，购买失败。可能是库存不足或其他用户正在购买，请重新尝试。",
        "assistant: 好的，请告诉我想买什么商品？例如：手机、耳机、电脑。",
        "user: 退出",
        "assistant: 感谢使用智慧商城助手，祝您购物愉快！"
      ],
      "User3": [
        "assistant: 手机有库存，当前剩余5台。请问要买几台？",
        "user: 3",
        "assistant: 下单成功！您购买了3台手机。",
        "assistant: 您好，欢迎来到智慧商城，请问需要什么帮助？",
        "user: 退出",
        "assistant: 感谢使用智慧商城助手，祝您购物愉快！"
      ]
    }
  },
  "scenario_3": {
    "test_name": "简化并发测试",
    "passed": true,
    "user_inputs": [
      "购买",
      "手机",
      "5",
      "退出"
    ],
    "final_stock": 0,
    "expected_success_users": [
      "User1",
      "User2"
    ],
    "actual_success_users": [
      "User1",
      "User2"
    ],
    "user_results": [
      {
        "user_id": "User1",
        "purchase_successful": true,
        "purchase_failed_message": null,
        "final_stock_reported": 10
      },
      {
        "user_id": "User2",
        "purchase_successful": true,
        "purchase_failed_message": null,
        "final_stock_reported": 10
      }
    ],
    "conversation_summary": {
      "User1": [
        "assistant: 手机有库存，当前剩余10台。请问要买几台？",
        "user: 5",
        "assistant: 下单成功！您购买了5台手机。",
        "assistant: 您好，欢迎来到智慧商城，请问需要什么帮助？",
        "user: 退出",
        "assistant: 感谢使用智慧商城助手，祝您购物愉快！"
      ],
      "User2": [
        "assistant: 手机有库存，当前剩余10台。请问要买几台？",
        "user: 5",
        "assistant: 下单成功！您购买了5台手机。",
        "assistant: 您好，欢迎来到智慧商城，请问需要什么帮助？",
        "user: 退出",
        "assistant: 感谢使用智慧商城助手，祝您购物愉快！"
      ]
    }
  }
}